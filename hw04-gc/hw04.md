# Home Work 4  Heap & GarbageCollector
## original Java code (with Integer), measurements
| Heapsize | msecs | comments |
|---|---|---|
| 256M | 15964 | первый запуск из IDEA  выполняется, последующие падают с Exception java.lang.OutOfMemoryError: Java heap space |
| 258M | 15010 | один запуск из ~5 из  IDEA  выполняется с ошибкой Exception java.lang.OutOfMemoryError: Java heap space|
| 259M | 14547 | один запуск из ~10 из  IDEA  выполняется с ошибкой Exception java.lang.OutOfMemoryError: Java heap space|
| 260M | 14411 | |
| 262M | 13652 | |
| 272M | 13266 | |
| 288M | 12795 | |
| 304M | 12465 | |
| 320M | 12750 | |
| 336M | 12123 | |
| 352M | 11785 | |
| 368M | 11537 | |
| 400M | 11110 | |
| 464M | 10414 | |
| 512M | 10945 | |
| 1G | 10698 | |
| 1536M | 9622 | |
| **2G**| **9574** | |
| 2560M | 9637 | |
| 3G | 9877 | |
| 4G | 9903 | |
| 5G | 9901 | |
| 6G | 10052 | |
| 7G | 10437 | |

* минимальный размер Heap для стабильной работы 260М  
* размер хипа с наименьшим временем выполнения работы ~2G


##  Java code fix#1 (with change fields from Integer to int), measurements
| Heapsize | msecs | comments |
|---|---|---|
| 190M | 3961 |один запуск из ~10 из  IDEA  выполняется с ошибкой Exception java.lang.OutOfMemoryError: Java heap space|  
| 195M | 3985 | |
| 200M | 3904 | 
| 256M | 2473 | |
| 512M | 1915 | |
| 1024M | 1966 | |
| 2048M | 1938 |  10 циклов G1 Evacuation Pause|
| 4G | 1876 | 8 циклов G1 Evacuation Pause , среднее время ~22ms|
| 6G | 1924 | 5 циклов G1 Evacuation Pause , среднее время ~44ms  |








